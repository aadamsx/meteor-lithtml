{"version":3,"file":"render-helpers_test.js","sourceRoot":"","sources":["../src/test/render-helpers_test.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {html, LitElement} from '../lit-element.js';\nimport {classString, styleString} from '../lib/render-helpers.js';\n\nimport {generateElementName} from './test-helpers.js';\n\nconst assert = chai.assert;\n\nsuite('Render Helpers', () => {\n  let container: HTMLElement;\n\n  setup(() => {\n    container = document.createElement('div');\n    document.body.appendChild(container);\n  });\n\n  teardown(() => {\n    if (container && container.parentNode) {\n      container.parentNode.removeChild(container);\n    }\n  });\n\n  test('classString updates classes', async () => {\n    class E extends LitElement {\n      static get properties() {\n        return {\n          foo: {},\n          bar: {},\n          baz: {}\n        };\n      }\n\n      foo = 0;\n      bar = true;\n      baz = false;\n\n      render() {\n        const {foo, bar, baz} = this;\n        return html\n        `<div class=\"${classString({ foo, bar, zonk: baz })}\"></div>`;\n      }\n    }\n    customElements.define(generateElementName(), E);\n    const el = new E();\n    container.appendChild(el);\n    await el.updateComplete;\n    const d = el.shadowRoot!.querySelector('div')!;\n    assert.include(d.className, 'bar');\n    el.foo = 1;\n    el.baz = true;\n    await el.updateComplete;\n    assert.include(d.className, 'foo bar zonk');\n    el.bar = false;\n    await el.updateComplete;\n    assert.include(d.className, 'foo zonk');\n    el.foo = 0;\n    el.baz = false;\n    await el.updateComplete;\n    assert.notInclude(d.className, 'foo bar zonk');\n  });\n\n  // TODO(sorvell): skip until fixed in IE11\n  // blocked on https://github.com/Polymer/lit-html/issues/425.\n  test.skip('styleString updates style', async () => {\n    class E extends LitElement {\n      static get properties() {\n        return {\n          marginTop: {},\n          paddingTop: {},\n          zug: {}\n        };\n      }\n\n      marginTop = ``;\n      paddingTop = ``;\n      zug = `0px`;\n\n      render() {\n        const {marginTop, paddingTop, zug} = this;\n        return html`<div style=\"${\n            styleString({\n              marginTop,\n              paddingTop,\n              height: zug\n          })}\"></div>`;\n      }\n    }\n    customElements.define(generateElementName(), E);\n    const el = new E();\n    container.appendChild(el);\n    await el.updateComplete;\n    const d = el.shadowRoot!.querySelector('div')!;\n    let computed = getComputedStyle(d);\n    assert.equal(d.getAttribute('style'), 'height: 0px');\n    assert.equal(computed.getPropertyValue('margin-top'), '0px');\n    assert.equal(computed.getPropertyValue('height'), '0px');\n    el.marginTop = `2px`;\n    el.paddingTop = `5px`;\n    await el.updateComplete;\n    assert.equal(d.getAttribute('style'), 'margin-top: 2px; padding-top: 5px; height: 0px');\n    el.offsetWidth;\n    computed = getComputedStyle(d);\n    assert.equal(computed.getPropertyValue('margin-top'), '2px');\n    assert.equal(computed.getPropertyValue('height'), '1px');\n    assert.equal(computed.getPropertyValue('padding-top'), '5px');\n    el.marginTop = ``;\n    el.paddingTop = ``;\n    el.zug = ``;\n    await el.updateComplete;\n    assert.equal(d.getAttribute('style'), '');\n  });\n\n});\n"]}