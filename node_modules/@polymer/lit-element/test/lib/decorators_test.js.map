{"version":3,"file":"decorators_test.js","sourceRoot":"","sources":["../../src/test/lib/decorators_test.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;GAYG;;;;;;;AAEH,OAAO,EACL,aAAa,EACb,IAAI,EACJ,UAAU,EACV,KAAK,EACL,QAAQ,EACT,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EAAC,mBAAmB,EAAC,MAAM,oBAAoB,CAAC;AAEvD,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AAE3B,KAAK,CAAC,YAAY,EAAE,GAAG,EAAE;IACvB,IAAI,SAAsB,CAAC;IAE3B,KAAK,CAAC,GAAG,EAAE;QACT,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC1C,SAAS,CAAC,EAAE,GAAG,gBAAgB,CAAC;QAChC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;IAEH,QAAQ,CAAC,GAAG,EAAE;QACZ,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,SAAS,CAAC,aAAc,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;YAC/C,SAAiB,GAAG,SAAS,CAAC;SAChC;IACH,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,gBAAgB,EAAE,GAAG,EAAE;QAC3B,IAAI,CAAC,oBAAoB,EAAE,GAAG,EAAE;YAC9B,MAAM,OAAO,GAAG,mBAAmB,EAAE,CAAC;YAEtC,IAAM,EAAE,GAAR,MAAM,EAAG,SAAQ,WAAW;aAC3B,CAAA;YADK,EAAE;gBADP,aAAa,CAAC,OAAsC,CAAC;eAChD,EAAE,CACP;YACD,MAAM,QAAQ,GAAG,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAC7C,MAAM,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,QAAQ,EAAE,GAAG,EAAE;QAEnB,IAAM,CAAC,GAAP,MAAM,CAAE,SAAQ,UAAU;YAMxB,MAAM;gBACJ,OAAO,IAAI,CAAA;;;SAGV,CAAC;YACJ,CAAC;SACF,CAAA;QAViB;YAAf,KAAK,CAAC,OAAO,CAAC;uCAAuB;QAEvB;YAAd,KAAK,CAAC,MAAM,CAAC;uCAAwB;QAJlC,CAAC;YADN,aAAa,CAAC,mBAAmB,EAAiC,CAAC;WAC9D,CAAC,CAYN;QAED,IAAI,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;YACnD,MAAM,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,CAAC,cAAc,CAAC;YACvB,MAAM,GAAG,GAAG,CAAC,CAAC,IAAI,CAAC;YACnB,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC;YACvC,MAAM,CAAC,KAAK,CAAC,GAAI,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC;QAC3C,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,4BAA4B,EAAE,KAAK,IAAI,EAAE;YAC5C,MAAM,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,CAAC,cAAc,CAAC;YACvB,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;YACpB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,KAAK,CAAC,WAAW,EAAE,GAAG,EAAE;QAEtB,IAAM,CAAC,GAAP,MAAM,CAAE,SAAQ,UAAU;YAMxB,MAAM;gBACJ,OAAO,IAAI,CAAA;;;SAGV,CAAC;YACJ,CAAC;SACF,CAAA;QAVkB;YAAhB,QAAQ,CAAC,KAAK,CAAC;uCAAiB;QAEf;YAAjB,QAAQ,CAAC,MAAM,CAAC;wCAAkB;QAJ/B,CAAC;YADN,aAAa,CAAC,mBAAmB,EAAiC,CAAC;WAC9D,CAAC,CAYN;QAED,IAAI,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;YACnD,MAAM,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,CAAC,cAAc,CAAC;YACvB,MAAM,IAAI,GAAG,CAAC,CAAC,IAAK,CAAC;YACrB,gCAAgC;YAChC,qCAAqC;YACrC,MAAM,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC;QAC3B,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;YACtD,MAAM,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC;YAClB,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACzB,MAAM,CAAC,CAAC,cAAc,CAAC;YACvB,MAAM,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;YACtB,gCAAgC;YAChC,qCAAqC;YACrC,MAAM,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;QAC5B,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["/**\n * @license\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at\n * http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at\n * http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at\n * http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at\n * http://polymer.github.io/PATENTS.txt\n */\n\nimport {\n  customElement,\n  html,\n  LitElement,\n  query,\n  queryAll\n} from '../../lit-element.js';\nimport {generateElementName} from '../test-helpers.js';\n\nconst assert = chai.assert;\n\nsuite('decorators', () => {\n  let container: HTMLElement;\n\n  setup(() => {\n    container = document.createElement('div');\n    container.id = 'test-container';\n    document.body.appendChild(container);\n  });\n\n  teardown(() => {\n    if (container !== undefined) {\n      container.parentElement!.removeChild(container);\n      (container as any) = undefined;\n    }\n  });\n\n  suite('@customElement', () => {\n    test('defines an element', () => {\n      const tagName = generateElementName();\n      @customElement(tagName as keyof HTMLElementTagNameMap)\n      class C0 extends HTMLElement {\n      }\n      const DefinedC = customElements.get(tagName);\n      assert.strictEqual(DefinedC, C0);\n    });\n  });\n\n  suite('@query', () => {\n    @customElement(generateElementName() as keyof HTMLElementTagNameMap)\n    class C extends LitElement {\n\n      @query('#blah') blah?: HTMLDivElement;\n\n      @query('span') nope?: HTMLSpanElement;\n\n      render() {\n        return html`\n          <div>Not this one</div>\n          <div id=\"blah\">This one</div>\n        `;\n      }\n    }\n\n    test('returns an element when it exists', async () => {\n      const c = new C();\n      container.appendChild(c);\n      await c.updateComplete;\n      const div = c.blah;\n      assert.instanceOf(div, HTMLDivElement);\n      assert.equal(div!.innerText, 'This one');\n    });\n\n    test('returns null when no match', async () => {\n      const c = new C();\n      container.appendChild(c);\n      await c.updateComplete;\n      const span = c.nope;\n      assert.isNull(span);\n    });\n  });\n\n  suite('@queryAll', () => {\n    @customElement(generateElementName() as keyof HTMLElementTagNameMap)\n    class C extends LitElement {\n\n      @queryAll('div') divs!: NodeList;\n\n      @queryAll('span') spans!: NodeList;\n\n      render() {\n        return html`\n          <div>Not this one</div>\n          <div id=\"blah\">This one</div>\n        `;\n      }\n    }\n\n    test('returns elements when they exists', async () => {\n      const c = new C();\n      container.appendChild(c);\n      await c.updateComplete;\n      const divs = c.divs!;\n      // This is not true in ShadyDOM:\n      // assert.instanceOf(divs, NodeList);\n      assert.lengthOf(divs, 2);\n    });\n\n    test('returns empty NodeList when no match', async () => {\n      const c = new C();\n      container.appendChild(c);\n      await c.updateComplete;\n      const spans = c.spans;\n      // This is not true in ShadyDOM:\n      // assert.instanceOf(divs, NodeList);\n      assert.lengthOf(spans, 0);\n    });\n  });\n});\n"]}